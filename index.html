<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Minimal | Bootstrap portfolio template</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- gLightbox CSS-->
    <link rel="stylesheet" href="vendor/glightbox/css/glightbox.min.css">
    <!-- Google fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700&amp;display=swap">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="css/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="css/custom.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="img/favicon.png">

    <!-- ------------------------------------------------- -->
    <!-- 1️⃣ 额外的抽屉样式（如果你想写进 custom.css，也可以） -->
    <!-- ------------------------------------------------- -->
    <style>
      /* 抽屉容器（全屏） */
      #image-drawer {
        position: fixed;
        inset: 0;
        display: none;               /* 默认隐藏 */
        align-items: flex-start;     /* 抽屉从左侧滑出 */
        justify-content: flex-start;
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(8px);  /* 背景模糊 */
        z-index: 1050;               /* 高于所有内容 */
        overflow: hidden;
        transition: opacity 0.3s ease;
      }
      #image-drawer.show {
        display: flex;
        opacity: 1;
      }

      /* 抽屉本体（左侧 80% 宽度，右侧 20% 透明遮罩） */
      #drawer-panel {
        width: 80%;
        max-width: 900px;
        height: 100%;
        background: #111;
        color: #fff;
        overflow-y: auto;
        padding: 1.5rem;
        box-shadow: 2px 0 12px rgba(0,0,0,.4);
        transform: translateX(-100%);
        transition: transform .35s ease;
      }
      #image-drawer.show #drawer-panel {
        transform: translateX(0);
      }

      /* 右侧半透明关闭区域（点击可关闭） */
      #drawer-backdrop {
        flex: 1;
        cursor: pointer;
      }

      /* 抽屉内部的图片网格 */
      #drawer-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 0.75rem;
      }
      #drawer-gallery img {
        width: 100%;
        height: auto;
        border-radius: 4px;
        cursor: pointer;
        transition: transform .2s;
      }
      #drawer-gallery img:hover {
        transform: scale(1.05);
      }

      /* 关闭按钮（左上角） */
      #drawer-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: transparent;
        border: none;
        color: #fff;
        font-size: 1.5rem;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <!-- ==================================================== -->
    <!-- 这里是你原来的页面结构（未改动）                 -->
    <!-- ==================================================== -->
    <div class="sidebar">
      <div class="sidebar-inner d-flex flex-column">
        <div class="px-4 py-5"><a href="index.html"><img src="img/logo.svg" alt="" width="90"></a></div>
        <div class="sidebar-menu-holder flex-grow-1">
          <ul class="sidebar-menu list-unstyled">
            <li class="mb-2 pb-1"><a class="sidebar-link h6 text-uppercase letter-spacing-2 fw-bold text-sm active" href="index.html">Home</a></li>
            <li class="mb-2 pb-1"><a class="sidebar-link h6 text-uppercase letter-spacing-2 fw-bold text-sm" href="text.html">About</a></li>
            <li class="mb-2 pb-1"><a class="sidebar-link h6 text-uppercase letter-spacing-2 fw-bold text-sm" href="detail.html">Detail</a></li>
          </ul>
        </div>
        <div class="px-4 py-3">
          <ul class="list-inline list-social mb-3">
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fab fa-facebook-f"></i></a></li>
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fab fa-twitter"></i></a></li>
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fab fa-instagram"></i></a></li>
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fab fa-linkedin"></i></a></li>
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fab fa-dribbble"></i></a></li>
            <li class="list-inline-item"><a class="reset-anchor" href="#!"><i class="fas fa-envelope"></i></a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="page-holder">
      <div class="px-4 d-block d-lg-none">
        <!-- navbar-->
        <header class="header">
          <nav class="navbar navbar-expand-lg navbar-light px-0">
            <button class="navbar-toggler navbar-toggler-end text-sm text-uppercase" type="button"
                    data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
              <svg class="svg-icon svg-icon-heavy svg-icon-sm text-dark">
                <use xlink:href="#menu-hamburger-1"></use>
              </svg>
            </button><a class="navbar-brand" href="index.html"><img src="img/logo.svg" alt="" width="50"></a>
          </nav>
        </header>
      </div>

      <div class="px-4 py-5">
        <div class="container-fluid">
          <div class="row gy-4 gx-5 masonry-wrapper">
            <!-- ====================== 作品卡片 ====================== -->
            <!-- 下面的每一块 .listing-item 都保持原样，只是多加了 data-index -->
            <!-- 这里演示前 9 张，你可以自行复制更多，data-index 必须唯一 -->
            <div class="col-lg-4 col-md-6 grid-item">
              <div class="listing-item ps-0">
                <div class="position-relative">
                  <ul class="list-inline listing-tags m-0">
                    <li class="list-inline-item"><a class="reset-anchor fw-normal text-gray text-sm"
                                                    href="detail.html">Creative</a></li>
                  </ul>
                  <a class="reset-anchor d-block listing-img-holder" href="javascript:void(0)" data-index="0">
                    <img class="img-fluid rounded-lg" src="img/portfolio-1.jpg" alt="Treasure"/>
                    <p class="mb-0 text-primary small d-flex align-items-center listing-btn">
                      <span>Look inside</span>
                      <svg class="svg-icon text-primary svg-icon-sm ms-1"><use xlink:href="#arrow-right-1"></use></svg>
                    </p>
                  </a>
                </div>
                <div class="py-3"><a class="reset-anchor" href="detail.html"><h2 class="h5 listing-item-heading">Treasure</h2></a>
                  <p class="text-sm mb-0 listing-item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit</p>
                </div>
              </div>
            </div>

            <!-- 复制上面的 block 并改成 data-index="1", "2", … 直到 "8"（共 9 张） -->
            <!-- 为了演示，这里只贴出第 2、3 张，后面的你自行复制或用脚本生成 -->
            <div class="col-lg-4 col-md-6 grid-item">
              <div class="listing-item ps-0">
                <div class="position-relative">
                  <ul class="list-inline listing-tags m-0"><li class="list-inline-item"><a class="reset-anchor fw-normal text-gray text-sm" href="detail.html">Creative</a></li></ul>
                  <a class="reset-anchor d-block listing-img-holder" href="javascript:void(0)" data-index="1">
                    <img class="img-fluid rounded-lg" src="img/portfolio-2.jpg" alt="Wimbledon"/>
                    <p class="mb-0 text-primary small d-flex align-items-center listing-btn"><span>Look inside</span>
                      <svg class="svg-icon text-primary svg-icon-sm ms-1"><use xlink:href="#arrow-right-1"></use></svg>
                    </p>
                  </a>
                </div>
                <div class="py-3"><a class="reset-anchor" href="detail.html"><h2 class="h5 listing-item-heading">Wimbledon</h2></a>
                  <p class="text-sm mb-0 listing-item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod.</p>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-md-6 grid-item">
              <div class="listing-item ps-0">
                <div class="position-relative">
                  <ul class="list-inline listing-tags m-0"><li class="list-inline-item"><a class="reset-anchor fw-normal text-gray text-sm" href="detail.html">Creative</a></li></ul>
                  <a class="reset-anchor d-block listing-img-holder" href="javascript:void(0)" data-index="2">
                    <img class="img-fluid rounded-lg" src="img/portfolio-3.jpg" alt="Tour de France"/>
                    <p class="mb-0 text-primary small d-flex align-items-center listing-btn"><span>Look inside</span>
                      <svg class="svg-icon text-primary svg-icon-sm ms-1"><use xlink:href="#arrow-right-1"></use></svg>
                    </p>
                  </a>
                </div>
                <div class="py-3"><a class="reset-anchor" href="detail.html"><h2 class="h5 listing-item-heading">Tour de France</h2></a>
                  <p class="text-sm mb-0 listing-item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit</p>
                </div>
              </div>
            </div>

            <!-- …… 其余 6 张同理，只要把 data-index 递增即可 …… -->
            <!-- 为了篇幅，这里省略其余 6 张，你可以直接复制上面的结构改成 3~8 -->
          </div>
        </div>
      </div>

      <!-- ====================== Footer ====================== -->
      <footer class="text-muted" style="background: #0d0d0d">
        <div class="container-fluid py-5">
          <div class="row">
            <div class="col-lg-10 mx-auto">
              <div class="row gy-4">
                <div class="col-lg-4">
                  <h2 class="h4 text-white mb-4">About me</h2>
                  <p class="text-sm">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor.</p>
                  <ul class="list-unstyled text-sm mb-0 text-white">
                    <li class="mb-1"><a class="reset-anchor" href="#!"><i class="fas text-muted me-2 fa-fw fa-globe-americas"></i>4274  Williams Avenue, California.</a></li>
                    <li class="mb-1"><a class="reset-anchor" href="#!"><i class="fas text-muted me-2 fa-fw fa-mobile"></i>123-456-789</a></li>
                    <li class="mb-1"><a class="reset-anchor" href="#!"><i class="fas text-muted me-2 fa-fw fa-envelope"></i>Jason@example.com</a></li>
                  </ul>
                </div>

                <div class="col-lg-4">
                  <h2 class="h4 text-white mb-4">Follow me</h2>
                  <ul class="list-inline">
                    <div class="row text-white text-sm">
                      <div class="col-6">
                        <ul class="list-unstyled">
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-facebook-f"></i>Facebook</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-twitter"></i>Twitter</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-instagram"></i>Instagram</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-dribbble"></i>Dribbble</a></li>
                        </ul>
                      </div>
                      <div class="col-6">
                        <ul class="list-unstyled">
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-linkedin-in"></i>Linkedin</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-pinterest"></i>Pinterest</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-vimeo"></i>Vimeo</a></li>
                          <li><a class="reset-anchor" href="#!"><i class="fab me-2 mb-2 fa-fw fa-youtube"></i>Youtube</a></li>
                        </ul>
                      </div>
                    </div>
                  </ul>
                </div>

                <div class="col-lg-4">
                  <h2 class="h4 text-white mb-4">News</h2>
                  <ul class="list-unstyled mb-0">
                    <li><a class="reset-anchor" href="#!">
                      <div class="d-flex">
                        <div class="flex-shrink-0"><img class="rounded-circle" src="img/news-1.jpg" alt="Design is all" width="50"></div>
                        <div class="ms-3">
                          <p class="text-white mb-0">Design is all</p>
                          <p class="small mb-1"></p>
                          <p class="text-gray text-sm">Lorem ipsum dolor sit amet, consetetur sadipscing.</p>
                        </div>
                      </div></a></li>
                    <li><a class="reset-anchor" href="#!">
                      <div class="d-flex">
                        <div class="flex-shrink-0"><img class="rounded-circle" src="img/news-2.jpg" alt="Power is art" width="50"></div>
                        <div class="ms-3">
                          <p class="text-white mb-0">Power is art</p>
                          <p class="small mb-1">23 Dec 2019</p>
                          <p class="text-gray text-sm">Lorem ipsum dolor sit amet, consetetur sadipscing.</p>
                        </div>
                      </div></a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-dark py-4">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-10 mx-auto">
                <div class="row text-white">
                  <div class="col-md-6 text-center text-md-start">
                    <p class="text-sm mb-3 mb-md-0"><span class="text-muted">&copy; All rights reserved - Your company.</span></p>
                  </div>
                  <div class="col-md-6 text-center text-md-end">
                    <p class="text-sm mb-0">
                      <a target="_blank" href="http://www.mobanwang.com/" title="网页模板" class="reset-anchor">网页模板</a>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- ==================================================== -->
    <!-- 2️⃣ 抽屉的 HTML（放在 body 最底部）                -->
    <!-- ==================================================== -->
    <div id="image-drawer">
      <!-- 抽屉本体 -->
      <div id="drawer-panel">
        <button id="drawer-close" aria-label="关闭抽屉">&times;</button>
        <h3 class="mb-4">图片库（共 100 张）</h3>
        <div id="drawer-gallery"></div>
      </div>
      <!-- 右侧半透明区域，点击即可关闭 -->
      <div id="drawer-backdrop"></div>
    </div>

    <!-- ==================================================== -->
    <!-- 3️⃣ 必要的脚本文件（保持原有的顺序）            -->
    <!-- ==================================================== -->
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/masonry-layout/masonry.pkgd.min.js"></script>
    <script src="vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="vendor/glightbox/js/glightbox.min.js"></script>
    <script src="js/front.js"></script>

    <!-- ==================================================== -->
    <!-- 4️⃣ 抽屉交互脚本（核心代码）                    -->
    <!-- ==================================================== -->
    <script>
      // ---------- 生成 100 张占位图片 ----------
      // 这里使用 picsum.photos 作为示例，你可以改成自己的真实 URL
      const TOTAL_IMAGES = 100;
      const galleryEl = document.getElementById('drawer-gallery');

      for (let i = 0; i < TOTAL_IMAGES; i++) {
        const img = document.createElement('img');
        // 让浏览器自行选择最佳格式（webp、avif 等），picsum 会自动返回合适的格式
        img.src = `https://picsum.photos/seed/${i}/400/300`;
        img.alt = `Image ${i + 1}`;
        img.dataset.index = i;               // 方便以后定位
        galleryEl.appendChild(img);
      }

      // ---------- 打开/关闭抽屉 ----------
      const drawer = document.getElementById('image-drawer');
      const drawerCloseBtn = document.getElementById('drawer-close');
      const drawerBackdrop = document.getElementById('drawer-backdrop');

      function openDrawer(startIndex = 0) {
        drawer.classList.add('show');
        // 可选：滚动到用户刚点的那张图片
        const targetImg = galleryEl.querySelector(`img[data-index="${startIndex}"]`);
        if (targetImg) {
          // 让图片在视口中居中（平滑滚动）
          targetImg.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }

      function closeDrawer() {
        drawer.classList.remove('show');
      }

      drawerCloseBtn.addEventListener('click', closeDrawer);
      drawerBackdrop.addEventListener('click', closeDrawer);
      // 按 Esc 也能关闭
      document.addEventListener('keydown', e => {
        if (e.key === 'Escape' && drawer.classList.contains('show')) closeDrawer();
      });

      // ---------- 为每个作品卡片绑定点击 ----------
      // 使用事件委托，省去给每张图片单独绑定
      document.body.addEventListener('click', function (e) {
        const link = e.target.closest('.listing-img-holder');
        if (!link) return;               // 不是我们想要的点击
        e.preventDefault();               // 阻止默认的锚点跳转

        // 读取 data-index（如果没有则默认 0）
        const idx = parseInt(link.dataset.index, 10) || 0;
        openDrawer(idx);
      });
    </script>

    <!-- ------------------------------------------------- -->
    <!-- 5️⃣ 注入 SVG Sprite（保持原来的代码）           -->
    <!-- ------------------------------------------------- -->
    <script>
      // ------------------------------------------------------- //
      //   Inject SVG Sprite - 
      //   see more here 
      //   https://css-tricks.com/ajaxing-svg-sprite/
      // ------------------------------------------------------ //
      function injectSvgSprite(path) {
          var ajax = new XMLHttpRequest();
          ajax.open("GET", path, true);
          ajax.send();
          ajax.onload = function(e) {
          var div = document.createElement("div");
          div.className = 'd-none';
          div.innerHTML = ajax.responseText;
          document.body.insertBefore(div, document.body.childNodes[0]);
          }
      }
      // this is set to BootstrapTemple website as you cannot 
      // inject local SVG sprite (using only 'icons/orion-svg-sprite.svg' path)
      // while using file:// protocol
      // pls don't forget to change to your domain :)
      injectSvgSprite('icons/orion-svg-sprite.svg'); 
    </script>

    <!-- FontAwesome CSS - loading as last, so it doesn't block rendering-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
          crossorigin="anonymous">
  </body>
</html>